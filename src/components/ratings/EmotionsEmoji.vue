<template>
    <b-button-group>
        <b-button
            :title="btn.name"
            v-for="(btn) in buttonsEmojis"
            :key="btn.emotion"
            :pressed.sync="btn.state"
            :class="{ 'icon-grey': btn.state === false }"
            variant="light"
            @click="updateEmojiEmotions(btn.emotion)"
        >
            {{ btn.icon }}
        </b-button>
    </b-button-group>
</template>


<script>

// Emoji
const emojis = {
    angry: {name: 'Angry', emoji: 'ğŸ˜¡'},
    confuse: {name: 'Confused', emoji: 'ğŸ˜–'},
    pensive: {name: 'Pensive', emoji: 'ğŸ¤”'},
    surprise: {name: 'Surprised', emoji: 'ğŸ˜®'},
    sadTear: {name: 'Sad', emoji: 'ğŸ˜¢'},
    sadCry: {name: 'Crying', emoji: 'ğŸ˜­'},
    scare: {name: 'Scared', emoji: 'ğŸ˜±'},
    sleepy: {name: 'Sleepy', emoji: 'ğŸ˜´'},
    mehRollingEyes: {name: 'Rolling Eyes', emoji: 'ğŸ™„'},
    meh: {name: 'Meh', emoji: 'ğŸ˜'},
    grinHearts: {name: 'Love', emoji: 'ğŸ˜'},
    grinAlt: {name: 'Smiling', emoji: 'ğŸ™‚'},
    grinTears: {name: 'LOL', emoji: 'ğŸ˜‚'},
    grimance: {name: 'Cringe', emoji: 'ğŸ˜¬'},
}

export default {
    name: 'EmotionsEmoji',
    mounted: function () {
        for (const [type, emoji] of Object.entries(emojis)) {
            this.buttonsEmojis.push({
                icon: emoji.emoji,
                name: emoji.name,
                emotion: type,
                state: false
            });
        };
    },
    data: function() {
        return {
            emojiEmotions: [],
            buttonsEmojis: [],
        }
    },

    methods: {
        updateEmojiEmotions: function (value) {
            let index = this.emojiEmotions.indexOf(value);
            if (index === -1)
                this.emojiEmotions.push(value);
            else
                this.emojiEmotions.splice(index,1);
        },
    }
}
</script>

<style scoped>
.icon-grey{
    color: grey;
    filter: grayscale(100%);
}
</style>